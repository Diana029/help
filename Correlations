##### 1. Correlations with target variable
def CorrelationSelector(X,y):
    columns = X.columns[3:]
    corr_data = dict([(abs(np.corrcoef(X[c],y)[0,1]),c) for c in columns if math.isnan(abs(np.corrcoef(X[c],y)[0,1]))==False])
    sorted_corr_data = sorted(corr_data.items(), key=operator.itemgetter(0), reverse=True)
    return sorted_corr_data
corr = CorrelationSelector(X,y)
top_correlations = 10
corr_array = np.array(corr[:top_correlations])
plt.figure(figsize=(7,7))
plt.title("Top correlations")
plt.bar(range(top_correlations), corr_array[:,0][:top_correlations], align='center')
plt.xticks(range(top_correlations), corr_array[:,1][:top_correlations], rotation=90)
plt.xlim([-1, top_correlations]);


##### 2.Корреляционная карта признаков
f, ax = plt.subplots(figsize=(8, 8))
plt.title('Pearson correlation coefficients of features')
sns.heatmap(df.astype(float).corr(),linewidths=0.25,vmax=1.0, square=True, linecolor='black');
